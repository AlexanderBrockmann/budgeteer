import org.gradle.internal.jvm.Jvm

apply plugin: 'idea'

task wrapper(type: Wrapper) {
    gradleVersion '2.10'
}

allprojects {
    version = '1.0.5.TESTING'
}

subprojects {
    apply plugin: 'idea'
    apply plugin: 'java'
    apply plugin: 'jacoco'

    repositories {
        mavenCentral()
        maven {
            name "Apache Snapshots"
            url "https://repository.apache.org/content/repositories/snapshots/"
        }
    }

    ext {
        spring_boot_version = '1.3.1.RELEASE'
        springloaded_version = '1.2.5.RELEASE'
        spring_webmvc_version = '4.2.4.RELEASE'

        query_dsl_version = '3.7.0'
        reflections_version = '0.9.10'

        wicket_spring_version = '7.1.0'
        wicketstuff_lazymodel_version = '7.1.0'
        wicketcharts_version = '2.0.0'

        slf4j_version = '1.7.13'
        logback_version = '1.1.3'

        joda_money_version = '0.10.0'
        joda_time_version = '2.9.1'
        joda_convert_version = '1.8.1'
        jollyday_version = '0.4.9'

        poi_version = '3.13'

        commons_codec_version = '1.10'
        commons_lang_version = '3.4'

        hsqldb_version = '2.3.2'
        mysql_version = '5.1.38'

        springockito_version = '1.0.9'
        spring_dbunit_version = '1.2.1'
        dbunit_version = '2.5.1'

        lombok_version = '1.16.6'
    }

    dependencies {
        testCompile group: 'junit', name: 'junit', version: '4.12'
        testCompile group: 'org.springframework', name: 'spring-test', version: '4.2.4.RELEASE'
    }

    compileJava {
        sourceCompatibility = '1.7'
        targetCompatibility = '1.7'
        compileJava.options.bootClasspath = "${Jvm.current().javaHome}/jre/lib/rt.jar"
    }

    jacocoTestReport {
        reports {
            xml.enabled false
            csv.enabled false
            html.destination "${buildDir}/jacocoHtml"
        }
    }
}

idea {
    project {
        jdkName = '1.8'
        languageLevel = '7'
        vcs = 'Git'
    }
}
